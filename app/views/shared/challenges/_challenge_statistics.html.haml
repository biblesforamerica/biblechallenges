.container
  - if membership = challenge.membership_for(current_user)
    - if membership.completed?
      %h4 
        %p
          = t "shared.challenges._challenge_statistics.congrats"
    -if challenge.groups.any?
      .panel.panel-primary
        .panel-heading
          = t "shared.challenges._challenge_statistics.group_stats"
        = render partial: 'shared/statistics/group_stat', locals: {groups: groups}
    .panel.panel-primary
      .panel-heading
        = t "shared.challenges._challenge_statistics.challenge_stats"
      = render partial: 'shared/statistics/challenge_stat', locals: {challenge: challenge, membership: membership}

    -if user.membership_readings.any?
      .panel.panel-primary
        .panel-heading
          = t "shared.challenges._challenge_statistics.personal_stats"
        = render partial: 'shared/statistics/personal_stat', locals: {user: current_user}
    -else
      = t "shared.challenges._challenge_statistics.unlogged"
